<div class="c-table-header">
  <otp-filters>
    <otp-filter [name]="'Country' | translate" values="countries" prop="country" name-attr="name"></otp-filter>
  </otp-filters>
   <a *ngIf="authService.isAdmin()" class="c-button -primary" routerLink="new">
     {{'New government entity' | translate}}
    </a>
</div>

<otp-table [caption]="'Government entities' | translate">
  <otp-table-column prop="government-entity" [name]="'Name' | translate"></otp-table-column>
  <otp-table-column prop="country.name" [name]="'Country' | translate" [include]="true"></otp-table-column>
  <otp-table-column prop="details" [name]="'Details' | translate">
    <ng-template let-value="value" table-cell-template>{{ value ? shorten(value) : 'â€“' }}</ng-template>
  </otp-table-column>
  <otp-table-column [name]="'Actions' | translate">
    <ng-template let-row="row" table-cell-template>
      <button class="action" (click)="onEdit(row)" [attr.aria-label]="(authService.isAdmin() ? 'Edit' :'Info') | translate">
        <otp-icon [name]="authService.isAdmin() ? '#icon-edit' : '#icon-info'"></otp-icon>
      </button>
    </ng-template>
  </otp-table-column>
</otp-table>
