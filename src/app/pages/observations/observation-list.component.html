<div class="c-container -j-between -t-d-column -t-a-start">
  <div class="c-container -j-start -t-d-column -t-a-start">
    <otp-navigation
      layout="mini"
      [items]="navigationItems"
    ></otp-navigation>
  </div>
  <div class="c-button-container -j-end">
    <a class="c-button -primary" routerLink="../new">New observation</a>
  </div>
</div>

<otp-table caption="Observations">
  <otp-table-column name="Date" prop="publication_date">
    <ng-template let-value="value" table-cell-template>{{getFormatedDate(value)}}</ng-template>
  </otp-table-column>
  <otp-table-column name="Country" prop="country.iso"></otp-table-column>
  <otp-table-column name="Operator" prop="operator.name"></otp-table-column>
  <otp-table-column name="Category" [prop]="this.observationType === 'operators' ? 'annex_operator.illegality' : 'annex_governance.governance_pillar'"></otp-table-column>
  <otp-table-column name="Observation" prop="details"></otp-table-column>
  <otp-table-column name="Severity" prop="severity.level"></otp-table-column>
  <otp-table-column name="Actions">
    <ng-template let-row="row" table-cell-template>
      <ng-template [ngIf]="canEdit(row)">
        <button class="action" (click)="onEdit(row)" aria-label="Edit"><otp-icon name="#icon-edit"></otp-icon></button>
        <button class="action" (click)="onDelete(row)" aria-label="Delete"><otp-icon name="#icon-delete"></otp-icon></button>
      </ng-template>
    </ng-template>
  </otp-table-column>
</otp-table>
